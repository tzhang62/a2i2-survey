services:
  # Backend API
  - type: web
    name: a2i2-survey-backend
    env: python
    region: oregon
    buildCommand: "cd a2i2_chatbot/backend && pip install --upgrade pip wheel setuptools && pip install --only-binary :all: --prefer-binary -r requirements.txt"
    startCommand: "cd a2i2_chatbot/backend && python server.py"
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: ADMIN_KEY
        generateValue: true
      - key: OPENAI_MODEL
        value: gpt-4o-mini
    disk:
      name: survey-data
      mountPath: /opt/render/project/src/a2i2_chatbot/backend/survey_responses
      sizeGB: 1

